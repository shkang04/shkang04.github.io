---
title: "프로젝트 보고서: 공룡 게임 개발"
description: 크롬 공룡 게임 협업 프로젝트 보고서
author: AIWAB
date: 2024-11-25 16:38:00 +0800
categories: [Blogging, Demo]
tags: [typography]
pin: true
math: true
mermaid: true
---

### **담당 작업**

1. **시작 화면 구현**
2. **BGM 및 효과음 추가 및 관리**
3. **설정 화면 구현 및 기능 개발**
4. **게임 오버 화면 랭킹 및 재시작 기능 추가**

---

### **작업 목표**

#### 1. 시작 화면 구현

- **목표**: 사용자에게 직관적이고 친숙한 시작 화면을 제공.
- **구성 요소**:
    - **Start Game 버튼**: 게임 시작 기능 제공.
    - **Setting 버튼**: 설정 화면으로 이동.
    - **화면 중앙 이미지**: 게임 테마를 나타내는 공룡 이미지.

#### 2. BGM 및 효과음 추가 및 관리

- **목표**: 게임의 몰입감을 높이기 위한 사운드 시스템 구축.
- **적용 사운드**:
    - **BGM**: 배경 음악 추가.
    - **Jump 효과음**: 공룡이 점프할 때 재생.
    - **Duck 효과음**: 공룡이 슬라이딩할 때 재생.
    - **Damaged 효과음**: 공룡이 장애물과 충돌했을 때 재생.
    - **Death 효과음**: 게임 오버 시 재생.
- **사운드 생성**:
    - AI를 활용하여 BGM과 효과음을 제작.

#### 3. 설정 화면 구현

- **목표**: 사용자가 게임 환경을 조정할 수 있는 인터페이스 제공.
- **구현 내용**:
    - **음량 조절 기능**:
        - **BGM 볼륨**: 슬라이더를 사용하여 배경음악 볼륨 조절.
        - **SFX 볼륨**: 슬라이더를 사용하여 효과음 볼륨 조절.
    - **테마 변경 기능**:
        - 낮/밤 테마 전환 버튼 제공.
        - 테마 변경 시 게임 배경 이미지 업데이트.
    - **설정값 저장**:
        - 사용자가 조정한 **BGM 및 SFX 볼륨 값을 JSON 파일에 저장**하여, 게임 재시작 시 이전 설정이 유지되도록 구현.
    - **ESC 키 동작**:
        - 설정 화면에서 `ESC` 키를 누르면 시작 화면으로 돌아가도록 구현.

#### 4. 게임 오버 화면 랭킹 및 재시작 기능

- **목표**: 게임 종료 후 사용자에게 점수 랭킹과 재시작 옵션 제공.
- **구성 요소**:
    - **랭킹 버튼**: 점수 랭킹 창으로 이동.
    - **재시작 버튼**: 게임을 처음부터 다시 시작.
    - **ESC 키 동작**:
        - 랭킹 창에서 `ESC` 키를 누르면 다시 게임 오버 화면으로 돌아가도록 구현.

---

### **구현 내용**

#### 1. 시작 화면

- **코드**: `menu.py` 파일에서 구현.
- **구현 사항**:
    - `draw_menu()` 함수로 버튼과 중앙 이미지를 화면에 표시.
    - 버튼 클릭 이벤트를 처리하여 게임 시작 또는 설정 화면으로 이동.

#### 2. BGM 및 효과음

- **코드**: `sound.py` 파일에서 `SoundManager` 클래스를 사용.
- **구현 사항**:
    - `pygame.mixer` 모듈을 사용하여 사운드 재생 및 정지 관리.
    - 상황별 효과음을 `SoundManager`의 메서드로 구현.
        - 예: `play_jump()`, `play_duck()`, `play_death()`.
    - `set_volume()` 메서드로 볼륨 설정.

#### 3. 설정 화면

- **코드**: `menu.py` 파일에서 구현.
- **구현 사항**:
    - **음량 조절**: `draw_slider()` 메서드로 BGM 및 SFX 볼륨 슬라이더 구현.
    - **테마 변경**: 낮/밤 테마 버튼 클릭 이벤트 처리.
    - **설정값 저장 및 로드**:
        - JSON 파일을 사용해 **사용자 설정값을 저장**하는 `save_settings()`와, 게임 시작 시 불러오는 `load_settings()` 메서드 구현.
        - 설정값(볼륨, 테마)은 실시간으로 적용되며, 게임 종료 후에도 유지.
    - **ESC 키 동작**:
        - 설정 화면에서 `ESC` 키를 누르면 시작 화면으로 돌아가는 로직을 추가.
        - `pygame.KEYDOWN` 이벤트 처리로 구현.

#### 4. 게임 오버 화면

- **코드**: `menu.py`와 `ranking.py` 파일에서 구현.
- **구현 사항**:
    - **랭킹 버튼**:
        - 버튼 클릭 시 `ranking.py`의 `Ranking` 객체를 통해 점수 랭킹 창 표시.
    - **재시작 버튼**:
        - 버튼 클릭 시 게임 초기화 및 재시작.
    - **ESC 키 동작**:
        - 랭킹 창에서 `ESC` 키를 누르면 다시 게임 오버 화면으로 돌아가는 로직 추가.
    - **UI 요소**:
        - 게임 오버 화면에서 직관적으로 버튼과 랭킹이 표시되도록 디자인.

### **문제와 해결 방법**

- **문제**: 슬라이딩 효과음이 반복 재생되지 않고, 키를 누르고 있는 동안에만 재생되도록 구현하는 과정에서 `pygame.mixer.Sound`의 특성으로 인해 효과음이 중복 재생되는 문제가 발생.
- **해결**: `pygame.key.get_pressed()`와 상태 변수를 활용하여, 효과음이 재생 중일 때는 추가로 재생되지 않도록 구현.

###### 추가 해야하는 것
- 증거 사진 추가
- 앞으로 더 한다면 그 내용 추가