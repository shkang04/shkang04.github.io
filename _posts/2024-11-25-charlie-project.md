---
title: "프로젝트 보고서: 공룡 게임 개발"
description: 크롬 공룡 게임 협업 프로젝트 보고서
author: AIWAB
date: 2024-11-25 16:38:00 +0800
categories: [Blogging, Demo]
tags: [typography]
pin: true
math: true
mermaid: true
---

### **담당 작업**

1. **시작 화면 구현**
2. **BGM 및 효과음 추가 및 관리**
3. **설정 화면 구현 및 기능 개발**
4. **게임 오버 화면 랭킹 및 재시작 기능 추가**

---

### **작업 목표**

#### 1. 시작 화면 구현

- **목표**: 사용자에게 직관적이고 친숙한 시작 화면 제공.
- **구성 요소**:
    - **게임 시작 버튼**: 게임을 시작할 수 있는 기능 제공.
    - **설정 버튼**: 설정 화면으로 이동.
    - **화면 중앙 이미지**: 게임의 테마를 나타내는 공룡 이미지.

#### 2. BGM 및 효과음 추가 및 관리

- **목표**: 게임 몰입도를 높이기 위한 사운드 시스템 구축.
- **적용된 사운드**:
    - **BGM**: 배경음악 추가.
    - **점프 효과음**: 공룡이 점프할 때 재생.
    - **슬라이딩 효과음**: 공룡이 슬라이딩할 때 재생.
    - **충돌 효과음**: 공룡이 장애물에 부딪힐 때 재생.
    - **사망 효과음**: 게임이 종료될 때 재생.
- **사운드 생성**:
    - AI를 활용해 BGM 및 효과음 제작.

#### 3. 설정 화면 구현

- **목표**: 사용자에게 게임 환경을 조정할 수 있는 인터페이스 제공.
- **구현 상세**:
    - **볼륨 조절 기능**:
        - **BGM 볼륨**: 슬라이더를 사용해 배경음악 볼륨 조절.
        - **SFX 볼륨**: 슬라이더를 사용해 효과음 볼륨 조절.
    - **테마 변경 기능**:
        - 낮/밤 테마 전환 버튼 제공.
        - 테마 변경 시 게임 배경 이미지 업데이트.
    - **설정 저장**:
        - 사용자가 조정한 **BGM 및 SFX 볼륨 값을 JSON 파일에 저장**하여 게임 재시작 시 이전 설정이 유지되도록 구현.
    - **ESC 키 동작**:
        - 설정 화면에서 `ESC` 키를 누르면 시작 화면으로 돌아가는 기능 구현.

#### 4. 게임 오버 화면 랭킹 및 재시작 기능

- **목표**: 게임 종료 후 사용자에게 점수 랭킹 및 재시작 옵션 제공.
- **구성 요소**:
    - **랭킹 버튼**: 점수 랭킹 창으로 이동.
    - **재시작 버튼**: 게임을 처음부터 다시 시작.
    - **홈 버튼**: 게임 오버 화면에서 시작 화면으로 돌아갈 수 있는 기능 추가.
    - **ESC 키 동작**:
        - 랭킹 창에서 `ESC` 키를 누르면 게임 오버 화면으로 돌아가는 기능 구현.

---

### **구현 상세**

#### 1. 시작 화면

- **코드**: `menu.py` 파일에 구현.
- **구현 내용**:
    - `show_menu()` 함수를 사용해 화면에 버튼과 중앙 이미지를 표시.
    - 버튼 클릭 이벤트를 처리해 게임 시작 또는 설정 화면으로 이동.
    ![Start Screen Day](/assets/img/md_img/start_screen_day.png)

#### 2. BGM 및 효과음

- **코드**: `sound.py` 파일의 `SoundManager` 클래스 사용.
- **구현 내용**:
    - `pygame.mixer` 모듈을 활용해 사운드 재생 및 정지 관리.
    - `SoundManager`의 메서드를 사용해 상황별 효과음 구현.
        - 예: `play_jump()`, `play_duck()`, `play_death()`
    - `set_volume()` 메서드로 볼륨 설정.
    

#### 3. 밤 테마 추가 및 적용
- **목표**: 게임의 시각적 몰입도를 높이고, 사용자에게 다양한 환경을 제공하기 위해 낮과 밤 테마를 전환할 수 있는 기능을 구현.
- **구성 요소**:
    - **밤 테마 배경 이미지**: 낮 테마와 대비되는 어두운 배경으로 전환.
    - **화면 색상 조정**: 낮과 밤 테마의 구분을 위해 `self.night_color`를 만들어 적용.
- **구현 내용**:
    - **낮/밤 테마 전환 버튼**:
        - 설정 화면에 테마 전환 버튼을 추가하여 사용자가 낮/밤 테마를 직접 변경할 수 있도록 구현.
        - 버튼 클릭 시 테마 전환이 이루어지며, 배경 이미지와 색상, 배경음악이 변경됨.
    - **밤 테마 적용**:
        - 밤 테마에서는 어두운 배경 색상을 사용하도록 `self.night_color`를 정의하고 이를 적용.
        - 밤에 어울리는 배경 이미지와 배경음악을 통해 테마 간의 차이를 부각.
    - **설정 유지**:
        - 현재 테마 상태를 JSON 파일로 저장하여, 게임 재시작 후에도 설정이 유지되도록 처리.
        ![Start Screen Night](/assets/img/md_img/start_screen_night.png)
        ![Settings Theme Night](/assets/img/md_img/settings_screen_night.png)
        ![Running Night](/assets/img/md_img/running_night.png)

#### 4. 설정 화면

- **코드**: `menu.py` 파일에 구현.
- **구현 내용**:
    - **볼륨 조절**: `draw_slider()` 메서드를 사용해 BGM 및 SFX 볼륨 슬라이더 구현.
    - **테마 변경**: 낮/밤 테마 버튼 클릭 이벤트 처리.
    - **설정 저장 및 불러오기**:
        - `save_settings()` 메서드로 JSON 파일에 사용자 설정(볼륨, 테마)을 저장.
        - 게임 시작 시 `load_settings()` 메서드로 설정을 불러와 실시간으로 적용.
        - 설정은 게임 종료 후에도 유지.
    - **ESC 키 동작**:
        - 설정 화면에서 `pygame.KEYDOWN` 이벤트를 처리해 `ESC` 키를 누르면 시작 화면으로 돌아가는 로직 추가.
    ![Settings Day](/assets/img/md_img/settings_screen_day.png)

#### 5. 게임 오버 화면

- **코드**: `menu.py`와 `ranking.py` 파일에 구현.
- **구현 내용**:
    - **랭킹 버튼**:
        - 버튼 클릭 시 `ranking.py`의 `Ranking` 객체를 통해 점수 랭킹 창 표시.
    - **재시작 버튼**:
        - 버튼 클릭 시 게임을 초기화하고 재시작.
    - **홈 버튼**:
        - `pygame.Rect` 객체를 사용해 홈 버튼 구현.
        - 홈 버튼 클릭 시 시작 화면으로 돌아가는 기능 처리.
    - **ESC 키 동작**:
        - 랭킹 창에서 `ESC` 키를 누르면 게임 오버 화면으로 돌아가는 로직 추가.
    - **UI 요소**:
        - 직관적으로 버튼과 랭킹을 표시할 수 있도록 디자인.
    ![Game Over](/assets/img/md_img/game_over_day.png)

---

### **문제 및 해결 방안**

- **문제**:  
    슬라이딩 효과음이 키를 누르는 동안만 재생되도록 구현하는 과정에서, `pygame.mixer.Sound`의 특성상 효과음이 중첩되어 재생되는 이슈 발생.
- **해결 방안**:  
    `pygame.key.get_pressed()`와 상태 변수를 사용해, 효과음이 중복되지 않도록 사운드 재생 로직을 구현함.

---

### **아쉬운 점**

- 버튼을 `pygame.Rect` 객체로 처리한 대신, 버튼을 함수로 만들어 관리했으면 더 좋았을 것 같습니다.
    - **이유**: 함수로 관리하면 버튼을 추가하거나 수정할 때 코드의 재사용성이 높아지고, 코드의 가독성도 향상될 수 있습니다. 또한, 각 버튼의 속성(위치, 크기, 텍스트 등)을 함수로 통합하여, 버튼의 동작을 관리하고, 유지보수성을 개선할 수 있습니다.
    - **개선 방안**: 버튼을 관리하는 `Button` 클래스를 작성하거나, 버튼을 처리하는 함수를 별도로 만들어 각 버튼의 공통 속성 및 동작을 하나의 함수로 처리할 수 있도록 했으면 더 효율적이었을 것입니다.

- 테마도 각각 개별 처리 되어있습니다. 이러한 방식을 개선하여, 테마별 속성을 통합 관리할 수 있는 함수 또는 클래스를 사용했으면 더 효율적이었을 것입니다.

---

### **소통 방식 및 진행 과정**

프로젝트 진행 과정 중 소통은 주로 **GitHub 이슈**와 **단체 카톡방**을 통해 이루어졌습니다. GitHub 이슈는 개발 중 발생하는 버그나 기능 추가 사항 등을 기록하고, 서로 의견을 교환하는 데 유용하게 사용되었습니다. 또한, 카톡방에서는 **일요일마다 한 주 동안의 진행 사항을 간단하게 정리하는 시간**을 가졌습니다. 이를 통해 각자의 진행 상황을 확인하고, 남은 업무나 해결해야 할 문제에 대해 빠르게 논의할 수 있었습니다.

문제가 발생하거나 궁금한 점이 생기면, 수업이 끝난 후 **직접 대면으로 소통**을 하기도 했습니다. 필요한 경우 **회의가 필요할 때에도 수업 후 남아 대면 회의**를 진행하였고, 이를 통해 보다 원활하게 의사소통하고 프로젝트를 진행할 수 있었습니다.